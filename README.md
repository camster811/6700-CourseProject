As part of the project, you will be mining a dataset to identify what types of security-related tasks are performed by agentic AI tools. The data that you will be analyzing are pull requests automatically generated by agentic AI tools. The dataset is here:

import pandas as pd

# Login using e.g. `huggingface-cli login` to access this dataset
df = pd.read_parquet("hf://datasets/hao-li/AIDev/all_pull_request.parquet")
df = pd.read_parquet("hf://datasets/hao-li/AIDev/all_repository.parquet")
df = pd.read_parquet("hf://datasets/hao-li/AIDev/all_user.parquet")

Task-1

    From the data in the all_pull_request table create a CSV file with the following headers and data:

TITLE: Data related to `title`
ID: Data related to `id`
AGENTNAME: Data related to `agent`
BODYSTRING: Data related to `body`
REPOID: Data related to `repo_id`
REPOURL: Data related to `repo_url`

Task-2

    From the data in the all_repository table create a CSV file with the following headers and data:

REPOID: Data related to `id`
LANG: Data related to `language`
STARS: Data related to `stars`
REPOURL: Data related to `url`

Task-3

    From the data in the pr_task_type table create a CSV file with the following headers and data:

PRID: Data related to `id`
PRTITLE: Data related to `title`
PRREASON: Data related to `reason`
PRTYPE: Data related to `type`
CONFIDENCE: Data related to `confidence`

Task-4

    From the data in the pr_commit_details table create a CSV file with the following headers and data:

PRID: Data related to `pr_id`
PRSHA: Data related to `sha`
PRCOMMITMESSAGE: Data related to `message`
PRFILE: Data related to `filename`
PRSTATUS: Data related to `status`
PRADDS: Data related to `additions`
PRDELSS: Data related to `deletions`
PRCHANGECOUNT: Data related to `changes`
PRDIFF: Data related to `patch`. Please remove special characters in the diff to avoid string encoding errors. 

Task-5

    From the output obtained from the four tasks above, create a CSV file with the following information:

ID: ID of the pull request 
AGENT: The name of the agent that was used to create the pull request 
TYPE: The type of the pull request 
CONFIDENCE: The confidence of the pull request 
SECURITY: A Boolean flag (1/0) that will report the status of the security status of the pull request. If security-related keywords appear in a body or title of the pull request, then the value will be 1, 0 otherwise. Use the keywords from the list in `References`

Task-6 (Additional Task) for the Students in COMP 6700 and COMP6700-D

    Create an additional column called VALIDATED in the CSV from Task-5. It will be a Boolean flag: 1 or 0. You will assign 1 if you see the title or the body of the pull request to be actually related to security based on your knowledge. You will need to only manually inspect bodies and titles of pull requests for which the SECURITY flag is 1. Otherwise you will assign 0. The new CSV file will have the following header and data:

ID: ID of the pull request 
AGENT: The name of the agent that was used to create the pull request 
TYPE: The type of the pull request 
CONFIDENCE: The confidence of the pull request 
SECURITY: A Boolean flag (1/0) that will report the status of the security status of the pull request. If security-related keywords appear in a body or title of the pull request, then the value will be 1, 0 otherwise. Use the keywords from the list in `References`
VALIDATED: A Boolean flag. You will assign 1 if you see the title or the body of the pull request to be actually related to security based on your knowledge and also based the keyword scan. 0, otherwise. 

Task-7 (Additional Task) for the Students in COMP 6700 and COMP6700-D

    Create an additional column called VULNERABLEFILE in the CSV from Task-4. It will be a Boolean flag: 1 or 0. You will assign 1 if: (i) the file is a Python program; (ii) the file is available in the repository; and (iii) the file contains >=1 vulnerability based on the scanning results of Bandit.

PRID: Data related to `pr_id`
PRSHA: Data related to `sha`
PRCOMMITMESSAGE: Data related to `message`
PRFILE: Data related to `filename`
PRSTATUS: Data related to `status`
PRADDS: Data related to `additions`
PRDELSS: Data related to `deletions`
PRCHANGECOUNT: Data related to `changes`
PRDIFF: Data related to `patch`. Please remove special characters in the diff to avoid string encoding errors. 
VULNERABLEFILE: Boolean. Assign 1 if the file is available, is Python, and contains >=1 vulnerability based on the scanning results of [Bandit](https://bandit.readthedocs.io/en/latest/).
